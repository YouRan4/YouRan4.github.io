import{_ as E}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{d as B,c as $,r as A,e as C,o as F,f as L,b as R}from"./runtime-core.esm-bundler.DEYfF20p.js";const W=B({}),X=B({...W,__name:"Snowfall",props:{enabledMonths:{default:()=>[11,0,1]},densityMultiplier:{default:1}},setup(M,{expose:g}){g();const c=M,a=A(null);let e=null,s=null,i=[];const x=C(()=>{const t=new Date().getMonth();return c.enabledMonths.includes(t)});function o(t,r){return Math.random()*(r-t)+t}function b(t){if(!a.value)return;const{width:r,height:l}=a.value;i=Array.from({length:t},()=>({x:o(0,r),y:o(0,l),r:o(2,4.5),s:o(.8,2),w:o(-.6,.6),a:o(0,Math.PI*2)}))}function u(){if(!a.value)return;a.value.width=window.innerWidth,a.value.height=window.innerHeight;const t=a.value.width*a.value.height,r=Math.min(240,Math.round(t/35e3*c.densityMultiplier));b(r)}function v(){if(!e||!a.value)return;const{width:t,height:r}=a.value;e.clearRect(0,0,t,r),e.shadowColor="rgba(255,255,255,0.8)",e.shadowBlur=4;for(let l=0;l<i.length;l++){const n=i[l];n.y+=n.s,n.x+=n.w,n.a+=n.w*.02,n.y>r&&(n.y=-5,n.x=o(0,t)),n.x<0&&(n.x=t),n.x>t&&(n.x=0);const P=6,_=n.r*2.6,d=_*.35;e.save(),e.translate(n.x,n.y),e.rotate(n.a),e.strokeStyle="rgba(255,255,255,1)",e.lineWidth=1.2;for(let w=0;w<P;w++){const f=Math.PI*2/P*w,I=Math.cos(f)*_,S=Math.sin(f)*_;e.beginPath(),e.moveTo(0,0),e.lineTo(I,S),e.stroke();const h=I*.65,p=S*.65,T=f+Math.PI/6,z=f-Math.PI/6;e.beginPath(),e.moveTo(h,p),e.lineTo(h+Math.cos(T)*d,p+Math.sin(T)*d),e.stroke(),e.beginPath(),e.moveTo(h,p),e.lineTo(h+Math.cos(z)*d,p+Math.sin(z)*d),e.stroke()}e.restore()}s=requestAnimationFrame(v)}function k(){if(!x.value){m();return}!a.value||e||(e=a.value.getContext("2d"),u(),v(),window.addEventListener("resize",u))}function m(){s!==null&&(cancelAnimationFrame(s),s=null),window.removeEventListener("resize",u),e=null,i=[]}F(()=>{k()}),L(()=>{m()});const y={props:c,canvasRef:a,get ctx(){return e},set ctx(t){e=t},get rafId(){return s},set rafId(t){s=t},get flakes(){return i},set flakes(t){i=t},isSnowEnabled:x,rand:o,createFlakes:b,resize:u,step:v,init:k,cleanup:m};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),Y={ref:"canvasRef",id:"snow-canvas",class:"fixed inset-0 pointer-events-none z-[900]","aria-hidden":"true"};function j(M,g,c,a,e,s){return R(),$("canvas",Y,null,512)}const H=E(X,[["render",j]]);export{H as default};
