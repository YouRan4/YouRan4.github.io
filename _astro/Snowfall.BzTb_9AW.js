import{d as B,c as E,r as $,a as A,o as C,b as F,e as L}from"./runtime-core.esm-bundler.CSfpGjqA.js";const R=(c,d)=>{const s=c.__vccOpts||c;for(const[o,e]of d)s[o]=e;return s},O=B({}),W=B({...O,__name:"Snowfall",props:{enabledMonths:{default:()=>[11,0,1]},densityMultiplier:{default:1}},setup(c,{expose:d}){d();const s=c,o=$(null);let e=null,i=null,l=[];const x=A(()=>{const t=new Date().getMonth();return s.enabledMonths.includes(t)});function a(t,r){return Math.random()*(r-t)+t}function b(t){if(!o.value)return;const{width:r,height:u}=o.value;l=Array.from({length:t},()=>({x:a(0,r),y:a(0,u),r:a(2,4.5),s:a(.8,2),w:a(-.6,.6),a:a(0,Math.PI*2)}))}function f(){if(!o.value)return;o.value.width=window.innerWidth,o.value.height=window.innerHeight;const t=o.value.width*o.value.height,r=Math.min(240,Math.round(t/35e3*s.densityMultiplier));b(r)}function m(){if(!e||!o.value)return;const{width:t,height:r}=o.value;e.clearRect(0,0,t,r),e.shadowColor="rgba(255,255,255,0.8)",e.shadowBlur=4;for(let u=0;u<l.length;u++){const n=l[u];n.y+=n.s,n.x+=n.w,n.a+=n.w*.02,n.y>r&&(n.y=-5,n.x=a(0,t)),n.x<0&&(n.x=t),n.x>t&&(n.x=0);const P=6,M=n.r*2.6,h=M*.35;e.save(),e.translate(n.x,n.y),e.rotate(n.a),e.strokeStyle="rgba(255,255,255,1)",e.lineWidth=1.2;for(let g=0;g<P;g++){const p=Math.PI*2/P*g,I=Math.cos(p)*M,S=Math.sin(p)*M;e.beginPath(),e.moveTo(0,0),e.lineTo(I,S),e.stroke();const v=I*.65,_=S*.65,T=p+Math.PI/6,z=p-Math.PI/6;e.beginPath(),e.moveTo(v,_),e.lineTo(v+Math.cos(T)*h,_+Math.sin(T)*h),e.stroke(),e.beginPath(),e.moveTo(v,_),e.lineTo(v+Math.cos(z)*h,_+Math.sin(z)*h),e.stroke()}e.restore()}i=requestAnimationFrame(m)}function k(){if(!x.value){w();return}!o.value||e||(e=o.value.getContext("2d"),f(),m(),window.addEventListener("resize",f))}function w(){i!==null&&(cancelAnimationFrame(i),i=null),window.removeEventListener("resize",f),e=null,l=[]}C(()=>{k()}),F(()=>{w()});const y={props:s,canvasRef:o,get ctx(){return e},set ctx(t){e=t},get rafId(){return i},set rafId(t){i=t},get flakes(){return l},set flakes(t){l=t},isSnowEnabled:x,rand:a,createFlakes:b,resize:f,step:m,init:k,cleanup:w};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),X={ref:"canvasRef",id:"snow-canvas",class:"fixed inset-0 pointer-events-none z-[900]","aria-hidden":"true"};function Y(c,d,s,o,e,i){return L(),E("canvas",X,null,512)}const q=R(W,[["render",Y]]);export{q as default};
